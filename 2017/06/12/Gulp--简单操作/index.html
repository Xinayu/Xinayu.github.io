<!DOCTYPE html>
<html lang="">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>
    Gulp的实例参考 | YOUQUAN
  </title>
  <meta name="description" content="">
  
  <meta name="keywords" content="
  Gulp
  ">
  
  <meta name="author" content="John Doe">

  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp">

  <link rel="icon" type="image/x-icon" href="">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  

  

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.25-csp/vue.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
</head>

<body id="replica-app">

<nav class="navbar-wrapper">
  <div class="navbar">
    <div class="container clearfix">
      <a href="/" class="navbar-logo"><i class="fa fa-github"></i></a>

      <div class="navbar-search float-left desktop-only">
        <div class="navbar-search-form">
          <label for="gsc-i-id1">This website</label>
          <div id="google-search">
            <gcse:search></gcse:search>
          </div>
        </div>
      </div>

      <ul class="navbar-nav float-left">
        
        <li><a href="/archives">Archives</a></li>
        
        
        <li><a href="/categories">Categories</a></li>
        
        
        <li><a href="/tags">Tags</a></li>
        
        
        <li class="desktop-only"><a href="/atom.xml" target="_blank">RSS</a></li>
        
      </ul>

      <ul class="navbar-nav user-nav float-right desktop-only">
        <li class="user-nav-notification">
          <a><span class="user-nav-unread"></span><i class="fa fa-bell"></i></a>
        </li>
        <li>
          <a><i class="fa fa-plus"></i> <i class="fa fa-caret-down"></i></a>
        </li>
        <li class="user-nav-logo">
          <a><img src="https://octodex.github.com/images/baracktocat.jpg"> <i class="fa fa-caret-down"></i></i></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="main-container">
  <header class="header-wrapper desktop-only">
  <div class="container header-site-detail">
    <ul class="header-toolbar">
      <li class="clearfix">
        <a href="/archives" class="header-toolbar-left"><i
                  class="fa fa-file-text"></i> Posts </a>
        <a href="/archives"
           class="header-toolbar-right"> 40 </a>
      </li>
      <li>
        <a href="/tags" class="header-toolbar-left"><i
                  class="fa fa-tags"></i> Tags </a>
        <a href="/tags"
           class="header-toolbar-right"> 12 </a>
      </li>
      <li>
        <a href="/categories" class="header-toolbar-left"><i
                  class="fa fa-folder-open"></i> Categories </a>
        <a href="/categories"
           class="header-toolbar-right"> 12 </a>
      </li>
    </ul>
    <h2 class="header-title">
      <i class="fa fa-book text-muted"></i>
      <a href="/">YOUQUAN</a>
      
      
    </h2>
  </div>

  <div class="container">
    <div class="header-tab-wrapper clearfix">
      <span class="header-tab header-tab-selected"><i class="fa fa-thumbs-o-up"></i> Like</span>
      <span class="header-tab"><i class="fa fa-share-alt"></i> Share</span>
      <span class="header-tab"><i class="fa fa-comments-o"></i> Discussion</span>
      <span class="header-tab"><i class="fa fa-bookmark-o"></i> Bookmark </span>
      <span class="header-tab"><i class="fa fa-smile-o"></i> Smile <i class="fa fa-caret-down"></i></span>
    </div>
  </div>
</header>


<div class="post-container container">
  <h3>
    <i class="fa fa-user-o"></i>
    John Doe

    <span class="post-date float-right" title="{{moment(1497196800000).format('MMM DD, YYYY, h:mm:ss A')}}">
      <i class="fa fa-pencil-square-o"></i>
      {{moment(1497196800000).fromNow()}}
    </span>
  </h3>

  <article class="post-content">
    <h1>Gulp的实例参考</h1>
    <h2 id="基本插件的安装"><a href="#基本插件的安装" class="headerlink" title="基本插件的安装"></a>基本插件的安装</h2><p>GulpJs的安装依赖nodejs，所以先安装nodejs</p>
<p>打开nodejs里面的cmd文件，安装gulp全局变量</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g gulp</span><br></pre></td></tr></table></figure>
<p>安装项目开发所需要的依赖项</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp</span><br></pre></td></tr></table></figure>
<p>安装用来压缩js文件的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-uglify</span><br></pre></td></tr></table></figure>
<p>安装用来压缩css文件的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-minify-css</span><br></pre></td></tr></table></figure>
<p>解析less的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-less</span><br></pre></td></tr></table></figure>
<p>安装用来合并的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-concat</span><br></pre></td></tr></table></figure>
<p>用来检查js代码的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-jshint</span><br></pre></td></tr></table></figure>
<p>用来重命名的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-rename</span><br></pre></td></tr></table></figure>
<p>搭建服务器的插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp-connect</span><br></pre></td></tr></table></figure>
<p>一起安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save-dev gulp gulp-uglify gulp-minify-css gulp-concat gulp-jshint gulp-rename</span><br></pre></td></tr></table></figure>
<ul>
<li><h3 id="在项目根目录下建一个以gulpfile-js命名的文本"><a href="#在项目根目录下建一个以gulpfile-js命名的文本" class="headerlink" title="在项目根目录下建一个以gulpfile.js命名的文本"></a>在项目根目录下建一个以<code>gulpfile.js</code>命名的文本</h3></li>
</ul>
<h2 id="文件的压缩示例"><a href="#文件的压缩示例" class="headerlink" title="文件的压缩示例"></a>文件的压缩示例</h2><p>编辑根目录下的<code>gulifile.js</code>文件 <copy></copy></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);  <span class="comment">//定义依赖项</span></span><br><span class="line"></span><br><span class="line">concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>);   <span class="comment">//定义合并插件</span></span><br><span class="line"></span><br><span class="line">mincss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);   <span class="comment">//定义压缩css的插件</span></span><br><span class="line">minjs = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);         <span class="comment">//定义压缩js的插件</span></span><br><span class="line"></span><br><span class="line">rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>);<span class="comment">//定义重命名插件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义任务   第一个是任务名字，第二个是要执行哪些操作</span></span><br><span class="line">gulp.task(<span class="string">'css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src([<span class="string">'css/*.css'</span>])  <span class="comment">//操作css文件夹中所有的css文件</span></span><br><span class="line">    <span class="comment">// gulp.src(['css/a.css'.'css.b.css'])  //操作css文件夹中ab文件</span></span><br><span class="line">        .pipe(concat(<span class="string">'min.css'</span>))  <span class="comment">//执行合并插件并给合并完成的插件起一个名字</span></span><br><span class="line">        .pipe(mincss())         <span class="comment">//执行压缩插件</span></span><br><span class="line">        .pipe(rename(&#123;<span class="attr">suffix</span>:<span class="string">'.xianyu'</span>&#125;))<span class="comment">//执行重命名插件</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'css1'</span>))<span class="comment">//把执行以上操作后的文件放在css1文件夹里面</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src([<span class="string">'js/*.js'</span>])  <span class="comment">//操作js文件夹中所有的js文件</span></span><br><span class="line">    <span class="comment">// gulp.src(['js/a.js'.'js.b.js'])  //操作js文件夹中ab文件</span></span><br><span class="line">        .pipe(concat(<span class="string">'min.js'</span>))  <span class="comment">//执行合并插件并给合并完成的插件起一个名字</span></span><br><span class="line">        .pipe(minjs())         <span class="comment">//执行压缩插件</span></span><br><span class="line">        .pipe(rename(&#123;<span class="attr">suffix</span>:<span class="string">'.xianyu'</span>&#125;))<span class="comment">//执行重命名插件</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'js'</span>))<span class="comment">//把执行以上操作后的文件放在js文件夹里面</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>,[<span class="string">'css'</span>,<span class="string">'js'</span>]);  <span class="comment">//执行任务名为css的任务</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//自动执行压缩任务</span></span><br><span class="line">gulp.watch(<span class="string">'css/*.css'</span>,[<span class="string">'css'</span>]);   <span class="comment">//如果css文件夹下任何一个css有变动，则执行名字为css的任务</span></span><br><span class="line">gulp.watch(<span class="string">'js/*.js'</span>,[<span class="string">'js'</span>]);      <span class="comment">//如果js文件夹下任何一个js有变动，则执行名字为js的任务</span></span><br></pre></td></tr></table></figure>
<p>运行 gulp：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gulp</span><br></pre></td></tr></table></figure>
<h2 id="实现热更新的例子"><a href="#实现热更新的例子" class="headerlink" title="实现热更新的例子 "></a>实现热更新的例子 <copy></copy></h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line">concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>);            <span class="comment">//定义合并插件</span></span><br><span class="line">less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>);                <span class="comment">//定义less编译插件</span></span><br><span class="line">mincss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>);        <span class="comment">//定义压缩css的插件</span></span><br><span class="line">minjs = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);             <span class="comment">//定义压缩js的插件</span></span><br><span class="line">sourcemaps = <span class="built_in">require</span>(<span class="string">'gulp-sourcemaps'</span>);    <span class="comment">//定义sourcemaps</span></span><br><span class="line">connect = <span class="built_in">require</span>(<span class="string">'gulp-connect'</span>);          <span class="comment">//自动刷新服务</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'Less'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'src/less/*.less'</span>)             <span class="comment">//入口文件目录</span></span><br><span class="line">        .pipe(sourcemaps.init())</span><br><span class="line">        .pipe(less())                       <span class="comment">//执行less</span></span><br><span class="line">        .pipe(concat(<span class="string">'min.css'</span>))            <span class="comment">//合并文件</span></span><br><span class="line">        .pipe(mincss())                     <span class="comment">//压缩css</span></span><br><span class="line">        .pipe(sourcemaps.write(<span class="string">'./'</span>))       <span class="comment">//生成sourcemaps</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist/src/css'</span>))    <span class="comment">//出口目录</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src([<span class="string">'src/js/*.js'</span>])               <span class="comment">//入口文件</span></span><br><span class="line">        .pipe(sourcemaps.init())</span><br><span class="line">        .pipe(concat(<span class="string">'min.js'</span>))             <span class="comment">//合并文件</span></span><br><span class="line">        .pipe(minjs())                      <span class="comment">//执行压缩插件</span></span><br><span class="line">        .pipe(sourcemaps.write(<span class="string">'./'</span>))       <span class="comment">//生成sourcemaps</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist/src/js'</span>))     <span class="comment">//出口目录</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.src(<span class="string">'./dist/*.html'</span>)</span><br><span class="line">        .pipe(connect.reload());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;           <span class="comment">//搭建服务器</span></span><br><span class="line">    connect.server(&#123;</span><br><span class="line">        root: <span class="string">'dist'</span>,</span><br><span class="line">        livereload: <span class="literal">true</span>,</span><br><span class="line">        port:<span class="number">8080</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>,[<span class="string">'Less'</span>,<span class="string">'js'</span>,<span class="string">'connect'</span>,<span class="string">'html'</span>]);         <span class="comment">//执行任务</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//自动执行压缩任务</span></span><br><span class="line">gulp.watch(<span class="string">'src/less/*.less'</span>,[<span class="string">'Less'</span>]);     <span class="comment">//监视less文件</span></span><br><span class="line">gulp.watch(<span class="string">'src/js/*.js'</span>,[<span class="string">'js'</span>]);           <span class="comment">//监视js文件</span></span><br><span class="line">gulp.watch(<span class="string">'dist/*.html'</span>,[<span class="string">'html'</span>]);           <span class="comment">//监视js文件</span></span><br></pre></td></tr></table></figure>

  </article>
</div>


    




</div>

<div class="footer-wrapper container">
  <footer class="footer clearfix">
    <div class="clearfix">
    <a href="https://github.com/Xinayu" class="footer-logo">
      <i class="fa fa-github"></i>
    </a>
    <ul class="footer-social-link">
      <li>© 2018 John Doe</li>
      <li><a href="https://github.com/Xinayu">Home</a></li>
      
    </ul>
    <div class="footer-theme-info">
      Theme <a href="//github.com/sabrinaluo/hexo-theme-replica">Replica</a>
      by <a href="//github.com/sabrinaluo">Hiitea</a> ❤ Powered by Hexo
    </div>
    </div>
    
  </footer>
</div>




<script src="/js/main.js"></script>

</body>
</html>
